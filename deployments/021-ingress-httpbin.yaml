# kubectl apply -f 021-ingress-httpbin.yaml
apiVersion: v1
kind: Secret
metadata:
  name: httpbin-secret
  namespace: httpbin
type: kubernetes.io/tls
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCekNDQWUrZ0F3SUJBZ0lVVzVycFRIeWdWZjRTQlYzd2ZnUjlIeWlwOXpNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0V6RVJNQThHQTFVRUF3d0laV1JuWldWamFHOHdIaGNOTWpFeE1UQTRNRFl3TVRVMFdoY05Nakl4TVRBNApNRFl3TVRVMFdqQVRNUkV3RHdZRFZRUUREQWhsWkdkbFpXTm9iekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFECmdnRVBBRENDQVFvQ2dnRUJBS1NBOHBzdG12bXpJcE9HNFlqRkpUMitSZGdmbUFSZVlqWnJ5VktwV0ZBQ0gza08KRWlXcTdGajE0QThUVGRvWTVxLzN3emU4OWIra2YzZk4rc3NCOVU1RkxmWGhRZkNhMEpIeFBsYmRmM3dUcjNmSAovVWphbDFjZUptcXNJWEJBWEdoNG9FOXZNTEJjWEZXUnpkbXJtMFdjdEkzRUE3VzBYWFhPWEp3VlJCRHZtTlYvClRFeFpoWDFLMnUvb0JMNWhjQlNoWG04VFFNOVpud092TTRTeUpubmU3eHVrajR2Y2xhSjBpSTNRNmF1M1RGZksKTGYza28zZmkrMExJNFZqMmdTdk1hUWxqVENka1Z5N0xXZGlGMFB5RFZpZU5uZGZ0R014ZTdzUTgrWnVMSFZJUApLTkRRc1RBYkFRWlpFQnZpWnlwTEpjYWdqTE5TL0VOd1VaTHRMUFVDQXdFQUFhTlRNRkV3SFFZRFZSME9CQllFCkZPS2RtVUJVUlZxM3B3ZGEzamR6ZmpPbzBlczFNQjhHQTFVZEl3UVlNQmFBRk9LZG1VQlVSVnEzcHdkYTNqZHoKZmpPbzBlczFNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQkIxSDFQQwphOXpjM2dVT25EdFpGZHhjSUluZWVvMGZqOXI1YWdGa21WNXdxVllDSWZ1MkFtRTVncWJid0dtdUVqWkFybVZaCnVsdkhuWkRacGdEcmV5aW5xNU5SSGk4aGtSRzYvdUUzNnJrQTRVSjBobzBocjI2YmhFeUI0dll1MmU0YTFZK2kKTG40QTl0QVdsL2NSMFJHSk9nUkZZdGZLWkpVVzBqSlZ2dlFKV3NXVlZ0aHFZN2dRd0dBK2sxR1JJLzNKN3hWeAo2WUp5OXBpZTFPQlJtYWR4bHRZMzMwZzYxZG5kbDhCUnpLaHpuNmt5dVpQamQ5QjlqNXFiZUFFaTN5bTRvYUF1CkFCVjJjcXp3NXZqZ1BWeHFWWHgvTStGbENTZTU2UWVLUVQ1TGZsQTdhZlBNSWQ3WXF6SVVnUDVRNFI0ZVZ2cTIKMS9JQW9tblJxaHFIa0lVPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRQ2tnUEtiTFpyNXN5S1QKaHVHSXhTVTl2a1hZSDVnRVhtSTJhOGxTcVZoUUFoOTVEaElscXV4WTllQVBFMDNhR09hdjk4TTN2UFcvcEg5Mwp6ZnJMQWZWT1JTMzE0VUh3bXRDUjhUNVczWDk4RTY5M3gvMUkycGRYSGlacXJDRndRRnhvZUtCUGJ6Q3dYRnhWCmtjM1pxNXRGbkxTTnhBTzF0RjExemx5Y0ZVUVE3NWpWZjB4TVdZVjlTdHJ2NkFTK1lYQVVvVjV2RTBEUFdaOEQKcnpPRXNpWjUzdThicEkrTDNKV2lkSWlOME9tcnQweFh5aTM5NUtOMzR2dEN5T0ZZOW9FcnpHa0pZMHduWkZjdQp5MW5ZaGREOGcxWW5qWjNYN1JqTVh1N0VQUG1iaXgxU0R5alEwTEV3R3dFR1dSQWI0bWNxU3lYR29JeXpVdnhECmNGR1M3U3oxQWdNQkFBRUNnZ0VBTzV3T1RYVGxKMzVtRlJkWE9ueFYxbDNRYVZScGZZdkdBdnBqNVhRLzhCNFUKMFlUcnhvSjlTbTh1VmNnaytkYjBJT2VpOGR1aklXSzJYZTloNVpZOEViUzN4dFZ0VTRhRjlaeDVmbmljN1pVawpqRDhINVJKd3JMemNKdU5nNnBBbjdDTnAwOTd5d2JWMkwvdTVvQnF6RlRLSHFxZFF3Tk11MnJXQWtYNlRQNTgrCkFOUVpRK1I5UlVsUDNnM2krMW1jSHN4SkV4d0RZanBudi9oWDRUNzhRM20rREJFSjFaQnY1eXdpTUl4U0I2bE8KeDhwS1hIcnFmNnFUb0xhb0FXYUhnZHBwL09SeXZkQi9HTzFSK2Z2b3k3VmJocUYrSXdCUk5TMlhpVUdMOVBYMQpMS3lscUlydnFWVkhjc0JRVmNTalpTZlIxRlMvQ0pLcFBTYTlNK2ppTVFLQmdRRFFOSVNRaHlhd2lIMWEwUlBtCmNhYlZreURKY1pDSDVZb0QwRXVHN3RTNXdHb05aMkY3NzFBc1FmM1RnTVo5K3JjcVg3OHM0cHhQTFpxUGtzQnoKL085TkNRUklYMUxCMjNzUDVMMFdxNlRQbklWOWJPVFlEcGhHRHcxTWtLK2kyYnJUYU5MQi95V3V2U1ZVSGFNRApiU3JRLzlaaGU4Ylp6STQrbGpWOEtQUDZad0tCZ1FES1JFQUEraUZiSCsvN3l6Tjh3dE9lVnM5R3ZDeEl2RXo1CjZKTit4b1FRbzFDUEJsUUFobEZIY2k5MWttSEx3djBMZmVyUVpSYlcwL09jdytMbjBXbzlPdDFqSG1yc0p6bU8KbCt6Rk95R1JlL1B2K0h0RithUktRQnp2R0lFcWlGdWdycDMwcTBrS1FES3VWT1o3aFNPM3NZTzllbGNZMGsvSQpFZ3NUTi9tOFF3S0JnUURNYXhQUXR2RTBsLzNEb2MyUkR2c0hiSG5mYm9IQis0c2pMV3BLSThsMlNzV1ZQWEJICjkzSFcwai85WGMwRXVaa0dvSlVaNDdBbVNSY2NhYkJNOFFTZXRRQ2djZjdWMk1FZG5LNU9TTjM2L0tsUHVRK0MKVmVvSnR4T09uZXZqenpRUUJ6WU9SSTFoMzlGN29kR0FOcm00RThnUFZEQ3JmSndZTlBCMFk5MFBkd0tCZ1FESgpwanRNL2hIdElDMElFWEIyVEdIZmROcFd3ZGxBZG9JamtDd2o4dFBOSnBSMDByRkNpS1pWblZBVlhlZWoxZlNpCjFWa1pnLzYrRkRiR0xrQjBMc0pFNHYrK0JxQkFhV2FuYzIwNHdKZlp6QUxKVmlmSC9uYzlFeWdGY3ArcmdLQWcKMUpWalRMU1h4S01DVEdBdit1ODkvbnJCbDB0bjBweDVjUXVia0cyb3N3S0JnUUN5cG9WcTVhTUZtQm4yZEIrWApvMUwyZCswS0VpT092djM3eTl5QUdFK2lOQlZFdmwvdTVZMWQ1UGJGNDFxelgvM2s0aXA3RDZrWVRiWGNtc2t2Ci9lT0tCQ3NuMUxTVlJ4RkJkRDM5bVlmU1JkVnhjN25ocTZNZVZVNEVqTU1JelFjZXRWZjBGNnZiOHo3S0wvSFkKTG5DcFR0SnArS2xTbm8vS2I1aEpQcCtSUWc9PQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg==
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: httpbin-ingress
  namespace: httpbin
  annotations:
    # use the shared edgenexus-ingress
    kubernetes.io/ingress.class: "edgenexus"
spec:
  tls:
  - hosts:
      - edgehttpbin
    secretName: httpbin-secret
  rules:
  - host: edgehttpbin
    http:
      paths:
      - backend:
          service:
            name: httpbin
            port:
              number: 80
        path: /
        pathType: Prefix
